{"version":3,"sources":["scripts/main.js"],"names":["form","document","createElement","newEmployy","createForm","className","innerHTML","name","type","map","field","toUpperCase","slice","join","querySelector","setAttribute","insertAdjacentElement","children","insertAdjacentHTML","selectValues","value","pushNotification","title","messageWindow","classList","add","setTimeout","remove","valideData","includes","fName","fAge","length","focus","querySelectorAll","forEach","element","index","addEventListener","e","hasAttribute","getAttribute","rows","sortedRows","sort","a","b","compareA","innerText","compareB","target","split","localeCompare","replaceChildren","activeElement","getElementsByClassName","closest","button","evt","isDataValid","preventDefault","person","newPerson","Math","round","toFixed","toString","replace","reset","el","targetData","textContent","position","indexOf","inputField","find","cloneNode","key","inputText","replaceWith"],"mappings":"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","file":"main.89b1321d.js","sourceRoot":"..\\src","sourcesContent":["'use strict';\n\nconst form = document.createElement('form');\nlet newEmployy = [];\n\nfunction createForm() {\n  const formField = [\n    {\n      name: 'name',\n      type: 'text',\n    },\n    {\n      name: 'position',\n      type: 'text',\n    },\n    {\n      name: 'age',\n      type: 'number',\n    },\n    {\n      name: 'salary',\n      type: 'number',\n    },\n  ];\n\n  const selectValues = ['Tokyo', 'Singapore',\n    'London', 'New York', 'Edinburgh', 'San Francisco'];\n\n  form.className = 'new-employee-form';\n\n  form.innerHTML = formField.map(field => `\n    <label>\n      ${field.name[0].toUpperCase() + field.name.slice(1)}:\n        <input\n          name=\"${field.name}\"\n          type=\"${field.type}\"\n          data-qa=\"${field.name}\"\n        >\n    </label>\n  `).join('');\n\n  form.querySelector('[name=\"age\"]').setAttribute('min', 18);\n  form.querySelector('[name=\"age\"]').setAttribute('max', 90);\n\n  document.querySelector('table').insertAdjacentElement('afterend', form);\n\n  form.children[1].insertAdjacentHTML('afterend', `\n    <label>Office:\n      <select name=\"office\" data-qa=\"office\">\n      <option value=\"\" disabled selected>\n        ${selectValues.map(value => `\n        <option value=\"${value}\">\n          ${value}\n        </option>`).join('')}\n      </select>\n    </label>\n  `);\n\n  form.insertAdjacentHTML('beforeend', `\n    <button type=\"submit\">\n      Save to table\n    </button>\n  `);\n}\ncreateForm();\n\n[...document.querySelectorAll('thead tr th')].forEach((element, index) => {\n  element.addEventListener('click', (e) => {\n    if (!element.hasAttribute('direction')\n      || element.getAttribute('direction') === 'DESC') {\n      element.setAttribute('direction', 'ASC');\n    } else {\n      element.setAttribute('direction', 'DESC');\n    }\n\n    const rows = document.querySelectorAll('tbody tr');\n\n    const sortedRows = [...rows].sort((a, b) => {\n      let compareA = a.querySelectorAll('td')[index].innerText;\n      let compareB = b.querySelectorAll('td')[index].innerText;\n\n      if (element.getAttribute('direction') === 'DESC') {\n        compareA = b.querySelectorAll('td')[index].innerText;\n        compareB = a.querySelectorAll('td')[index].innerText;\n      }\n\n      if (e.target.innerText === 'Salary') {\n        return compareA.slice(1).split(',').join('.')\n          - compareB.slice(1).split(',').join('.');\n      }\n\n      if (typeof (compareA) === 'string') {\n        return compareA.localeCompare(compareB);\n      }\n\n      return compareA - compareB;\n    });\n\n    document.querySelector('tbody').replaceChildren(...rows, ...sortedRows);\n  });\n});\n\n[...document.querySelectorAll('tbody tr')].forEach(element => {\n  element.addEventListener('click', (e) => {\n    const activeElement = document.getElementsByClassName('active')[0];\n\n    if (activeElement) {\n      activeElement.classList.remove('active');\n    }\n\n    e.target.closest('tr').classList.add('active');\n  });\n});\n\nfunction pushNotification(title, type) {\n  const messageWindow = document.createElement('div');\n\n  messageWindow.classList.add('notification', type);\n  messageWindow.setAttribute('data-qa', 'notification');\n\n  messageWindow.innerHTML = `\n    <h2 class=\"title\">${title}</h2>\n  `;\n\n  document.querySelector('body')\n    .insertAdjacentElement('afterbegin', messageWindow);\n\n  setTimeout(() => {\n    messageWindow.remove();\n  }, 2000);\n};\n\nfunction valideData() {\n  if (newEmployy.includes('')) {\n    pushNotification('All fields must be filled', 'warning');\n\n    return false;\n  } else {\n    const fName = form.querySelector('[name=\"name\"]');\n    const fAge = form.querySelector('[name=\"age\"]');\n\n    if (fName.value.length < 4) {\n      pushNotification('Name minimum length is 4', 'error');\n      fName.focus();\n\n      return false;\n    } else if (fAge.value.includes(',') || fAge.value.includes('.')) {\n      pushNotification('Just an integer', 'error');\n      fAge.focus();\n\n      return false;\n    } else if (fAge.value > 90 || fAge.value < 18) {\n      pushNotification('Age value is less than 18 or more than 90', 'error');\n      fAge.focus();\n\n      return false;\n    } else {\n      pushNotification('New employee is successfully', 'success');\n\n      return true;\n    }\n  }\n}\n\nconst button = document.querySelector('button');\n\nbutton.addEventListener('click', (evt) => {\n  evt.preventDefault();\n\n  newEmployy = [...form.querySelectorAll('label')].map(person => {\n    return person.children[0].value;\n  });\n\n  const isDataValid = valideData();\n\n  if (isDataValid) {\n    const newPerson = document.createElement('tr');\n\n    newEmployy[4] = '$' + (Math.round(newEmployy[4] * 1000) / 1000)\n      .toFixed(3).toString().replace('.', ',');\n    form.reset();\n\n    newPerson.innerHTML = newEmployy.map(el => `<td>${el}</td>`).join('');\n\n    document.querySelector('tbody')\n      .insertAdjacentElement('beforeend', newPerson);\n\n    newPerson.addEventListener('click', (e) => {\n      const activeElement = document.getElementsByClassName('active')[0];\n\n      if (activeElement) {\n        activeElement.classList.remove('active');\n      }\n\n      e.target.closest('tr').classList.add('active');\n    });\n  }\n});\n\n[...document.querySelectorAll('td')].forEach(element => {\n  element.addEventListener('dblclick', (evt) => {\n    const targetData = evt.target.textContent;\n    const position = [...evt.target.closest('tr').children].indexOf(evt.target);\n    const inputField = [...form.querySelectorAll('label')]\n      .find((el, index) => index === position).children[0].cloneNode(true);\n\n    inputField.classList.add('cell-input');\n    evt.target.replaceChildren(inputField);\n    inputField.focus();\n\n    inputField.addEventListener('keypress', (e) => {\n      if (e.key === 'Enter') {\n        let inputText = e.target.value;\n\n        if (position === 4) {\n          inputText = '$' + (Math.round(inputText * 1000) / 1000)\n            .toFixed(3).toString().replace('.', ',');\n        }\n\n        inputText\n          ? inputField.replaceWith(inputText)\n          : inputField.replaceWith(targetData);\n      }\n    });\n\n    inputField.addEventListener('blur', () => {\n      let inputText = inputField.value;\n\n      if (position === 4) {\n        inputText = '$' + (Math.round(inputText * 1000) / 1000)\n          .toFixed(3).toString().replace('.', ',');\n      }\n\n      !inputText\n        ? inputField.replaceWith(targetData)\n        : inputField.replaceWith(inputText);\n    });\n  });\n});\n"]}